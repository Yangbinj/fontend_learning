<!DOCTYPE html>
<html>
    <head>
            <meta charset="utf-8">
            <title>vue 数据与方法</title>
            <!-- 开发环境版本，包含了有帮助的命令行警告 -->
            <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
            <!-- 生产环境版本，优化了尺寸和速度 -->
            <!-- <script src="https://cdn.jsdelivr.net/npm/vue"></script>              -->
            <!--每个 Vue 实例在被创建时都要经过一系列的初始化过程——例如，需要设置数据监听、编译模板、将实例挂载到 DOM 并在数据变化时更新 DOM 等。
              同时在这个过程中也会运行一些叫做生命周期钩子的函数，这给了用户在不同阶段添加自己的代码的机会。-->
    </head>
    <body>  
          <div id="app-7">
            <pre>
              总结：每个 Vue 实例在被创建时都要经过一系列的初始化过程——例如，需要设置数据监听、编译模板、
              将实例挂载到 DOM 并在数据变化时更新 DOM 等。同时在这个过程中也会运行一些叫做生命周期钩子的函
              数，这给了用户在不同阶段添加自己的代码的机会。
            </pre>
            <span>1.created 钩子可以用来在一个实例被创建之后执行代码</span>
              <pre>
                  new Vue({
                    data: {
                      a: 1
                    },
                    created: function () {
                      // `this` 指向 vm 实例
                      console.log('a is: ' + this.a)
                    }
                  })
                  // => "a is: 1"
              </pre>
              <span>2.也有一些其它的钩子，在实例生命周期的不同阶段被调用，如 mounted、updated 和 destroyed。生命周期钩子的 this 上下文指向调用它的 Vue 实例。</span>
              <pre>
                  不要在选项属性或回调上使用箭头函数，比如 created: () => console.log(this.a) 或 vm.$watch('a', newValue => this.myMethod())。
                  因为箭头函数并没有 this，this 会作为变量一直向上级词法作用域查找，直至找到位置，经常导致 Uncaught TypeError: Cannot read 
                  property of undefined 或 Uncaught TypeError: this.myMethod is not a function 之类的错误。
              </pre>
              <img src="../image/vue钩子.png" style="width:50%"></img>
              
            </div>
        <script>
       Vue.component('todo-item', {
          // todo-item 组件现在接受一个
          // "prop"，类似于一个自定义特性。
          // 这个 prop 名为 todo。
          props: ['todo'],
          template: '<li>{{todo.title}}</li><li>{{todo.text}}</li>'
        })
        var app7 = new Vue({
            el: '#app-7',
            data: {
              groceryList: [
                { id: 0,title:'数据与方法',text: '当一个 Vue 实例被创建时，它将 data 对象中的所有的属性加入到 Vue 的响应式系统中。当这些属性的值发生改变时，视图将会产生“响应”，即匹配更新为新的值。' },
                { id: 1, title:'值得注意的是只有当实例被创建时 data 中存在的属性才是响应式的',text: '' },
                { id: 2, title:'如果你知道你会在晚些时候需要一个属性，但是一开始它为空或不存在，那么你仅需要设置一些初始值。',text: '随便其它什么人吃的东西' },
                { id: 3, title:'这里唯一的例外是使用 Object.freeze()，这会阻止修改现有的属性，也意味着响应系统无法再追踪变化。',text: '随便其它什么人吃的东西' }
              ]
            }
          })
        </script> 
    </body>
</html>